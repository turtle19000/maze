namespace SpriteKind {
    export const button = SpriteKind.create()
}
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.stairNorth, function (sprite, location) {
    level_4()
})
function level_4 () {
    tiles.setCurrentTilemap(tilemap`level6`)
    tiles.placeOnRandomTile(mySprite, sprites.dungeon.stairWest)
}
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.stairLadder, function (sprite, location) {
    sprites.destroy(mySprite)
    tiles.setCurrentTilemap(tilemap`level8`)
    level = 0
    level_control()
    Start_button = sprites.create(assets.image`startbutton`, SpriteKind.button)
    Start_button.setPosition(77, 99)
    info.pauseCountup()
})
function level_control () {
    if (level == 0) {
        scene.setBackgroundImage(assets.image`Maze bound`)
        game.setGameOverScoringType(game.ScoringType.LowScore)
        Start_button = sprites.create(assets.image`startbutton`, SpriteKind.button)
        cursor = sprites.create(assets.image`cursor`, SpriteKind.Player)
        Start_button.setPosition(77, 99)
        controller.moveSprite(cursor)
        cursor.setStayInScreen(true)
    }
    if (level == 1) {
        sprites.destroy(cursor)
        sprites.destroy(Start_button)
        level_1()
    }
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    characterAnimations.loopFrames(
    mySprite,
    assets.animation`myAnim`,
    100,
    characterAnimations.rule(Predicate.Moving)
    )
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    characterAnimations.loopFrames(
    mySprite,
    assets.animation`myAnim0`,
    100,
    characterAnimations.rule(Predicate.Moving)
    )
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.button, function (sprite, otherSprite) {
    if (otherSprite == Start_button && controller.A.isPressed()) {
        level = 1
        level_control()
    }
})
function level_1 () {
    info.startCountup(true)
    mySprite = sprites.create(assets.image`brown haired chibi facing right`, SpriteKind.Player)
    mySprite.setStayInScreen(true)
    characterAnimations.runFrames(
    mySprite,
    [img`
        ................................
        ...................f............
        ...........fffffffff............
        ..........faaaaaaafff...........
        .........ffaaaaaaaaaaf..........
        ........faaaaaaaaaaaaaf.........
        .......faaaaaaaaaaaaaaaf........
        .......faaaaaaaaaaaaaaaf........
        ......faaaaaaaaaaaaaaaaaf.......
        ......faaaaaaaaaaaaafaaaf.......
        ......faaaaaaaaaaaffdfaaf.......
        ......faaaaaaaaaafdddfaf........
        ......faaaaaaaaafdddddff........
        ......faaaffffafddffddf.........
        ......faafdddffdddf1ddf.........
        ......faafddddddddffdddf........
        .......faffddddddddddddf........
        ........faffdddddddddddf........
        .........ffffdddddddddf.........
        ............ffdddddddf..........
        ...........ffffdddfff...........
        ..........f6666fff..............
        .........f6fffff1ff.............
        .........ff6666f11f.............
        .........f666666f11f............
        ........f6666f66f11f............
        .......f6666f666f11ff...........
        ......fdf66f6666f11f1f..........
        ......fddff66666f11ffdf.........
        .......fff.fffffffffddf.........
        ...........fcccccccfff..........
        ...........fcccccccf............
        ...........fcccccccf............
        ...........ffccccccff...........
        ..........fcffcccffcff..........
        ........ffccccffffcccff.........
        .......f1fcccf...fccccfff.......
        .......f1ffcf.....ffcf1f1f......
        ........f11f........f111f.......
        .........fff.........fff........
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `],
    500,
    characterAnimations.rule(Predicate.NotMoving)
    )
    controller.moveSprite(mySprite)
    scaling.scaleToPixels(mySprite, 32, ScaleDirection.Uniformly, ScaleAnchor.Middle, false)
    tiles.setTilemap(tilemap`level0`)
    tiles.placeOnRandomTile(mySprite, sprites.dungeon.stairSouth)
    scene.cameraFollowSprite(mySprite)
}
let cursor: Sprite = null
let Start_button: Sprite = null
let mySprite: Sprite = null
let level = 0
level = 0
level_control()
music.play(music.createSong(hex`00780004080b0505001c000f0a006400f4010a00000400000000000000000000000000000000020d0008000c00012a3c015001021e2a06001c00010a006400f401640000040000000000000000000000000000000002070108000c0001270c001000012718001c0001271c002000012728002c0001202c003000012048004c00012c4c005000012c58005c0001205c006000012068006c0001246c007000012478007c00011e7c008000011e88008c0001208c009000012090009400012994009800012998009c0001249c00a0000124a800ac00011eac00b000011eb000b4000127b400b8000127b800bc000120bc00c0000120c000c4000125c400c800022425c800cc000124cc00d0000122d000d4000124d400d8000127d800dc000124dc00e0000124e800f0000320242720012401011e24012801011e28012c0101252c01300101253001340101293401380102222938013c0101223c015001021e2a07001c00020a006400f4016400000400000000000000000000000000000000032e0108000c0001240c001000012510001400012424002800012528002c0001292c00300001273000340001253400380002222938003c0001253c004000012540004400012244004800012548004c0001244c005000012250005400012554005800012458005c0001275c006000012a60006400012968006c0001256c007000012470007400012774007800012578007c0001247c00800001258000840001278400880001258c00900001279000940001249c00a0000129a000a4000129a400a8000122a800ac000124ac00b0000127b000b4000124b400b8000127b800bc000127bc00c000012420012401012424012801012528012c0101202c013001012230013401011e34013801011e38013c01012c3c01400102202750015401012054015801012258015c0101245c016001011e08001c000e050046006603320000040a002d0000006400140001320002010002f0000000040001190400080001190c001000011b10001400011b1c00200001192000240001192c003000011b30003400011b40004400011944004800011950005400011b54005800011b64006800011968006c00011978007c00011b7c008000011b88008c0001198c009000011998009c00011b9c00a000011ba800ac000119ac00b0000119b800bc00011bbc00c000011bc800cc000119cc00d0000119d800dc00011bdc00e000011be800ec000119ec00f0000119f800fc00011bfc000001011b08010c0101190c011001011918011c01011b1c012001011b28012c0101192c013001011938013c01011b3c014001011b09010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c8000600080009000107`), music.PlaybackMode.UntilDone)
